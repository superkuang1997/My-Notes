# 论文十问

1. 论文试图解决什么问题？

2. 这是否是一个新的问题？

3. 这篇文章要验证一个什么科学假设？

4. 有哪些相关研究？如何归类？谁是这一课题在领域内值得关注的研究员？

5. 论文中提到的解决方案之关键是什么？

6. 论文中的实验是如何设计的？

7. 用于定量评估的数据集是什么？代码有没有开源？

8. 论文中的实验及结果有没有很好地支持需要验证的科学假设？

9. 这篇论文到底有什么贡献？

10. 下一步呢？有什么工作可以继续深入？



# 名词解释

直接配送：一辆车对应一个客户

共同配送：一辆车对应多个客户

LAP（）：

LIP（Location Inventory Problems）：选址-库存问题

LRP（Location routing Problem）：选址-路径问题，该问题有三个核心，一是确定配送中心选址；二是确定配送中心用户服务关系；三是具体配送路径的选择。VRP 和 LAP 是组成 LRP 的两个子问题。

VRP（Vehicle Routing Problem）：车辆路径问题

DVRP（Dynamic VRP）：动态车辆路径问题

SVRP：

SDVRP（Split Delivery VRP）：需求可拆分车辆路径问题

MDVRP（Multi-Depot VRP）：多车场车辆路径问题

MTVRP（Multi-Type VRP）：多车型车辆路径问题

VRPTW（VRP with Time Window）：带时间窗的车辆路径问题

VRPSDP（VRP with Simul-taneous Pickup and Delivery）：同时取送货的车辆路径问题



# 常用算法

## 精确算法

分支界定法、整数线性规划、动态规划



## 启发式算法

节约法、插入检测法等



## 元启发式算法

遗传算法、模拟退火算法、粒子群算法、禁忌搜索算法等



粒子群算法

粒子群算法 (PSO) 由 Kennedy 和 Eberhart 在1995 年提出.



# 文件综述

## VRP的起源

Dantzig 和 Ramser 于1959 首次提出了 VRP，该问题实际上是从旅行商问题衍化而来的，是一个 NP-hard 问题



## VRP问题的分类

带时间窗的 VRP

多车型的 VRP

多车场的 VRP（Multi-Depot VRP）

同时送货取货的 VRP

动态 VRP



# 论文笔记

## 文献综述类

### 车辆路径优化文献综述（肖建辉，2010）

- 首先综述了不同类型的 VRP
- VRP 的主要优化目标（总公里、总费用等）
- 简述了 VRP 不同解法的思路



### 需求可拆分车辆路径问题研究 （刘新宇，2017）

- 指出是 Dror 和 Trudeau 于 1989 提出了 SDVRP
- 介绍了 SDVRP 的求解算法
  - 精确算法
  - 启发式算法
  - 元启发式算法

- 介绍了 SDVRP 的衍生类型
  - 带时间窗的 SDVRP
  - 考虑取送货的 SDVRP
  - 考虑多车型车辆的 SDVRP
  - 其他衍生类型

- 指出了研究的不足之处
  - 实际问题中，一些物品是不可拆分的
  - 对于带时间窗的 SDVRP，主要针对单时间窗和硬时间，比较少考虑多时间窗和软时间窗的情况





### 动态车辆路径问题的研究进展及发展趋势（周鲜成，2019）

- 指出是 Dantzig 和 Ramser 于1959 提出了 VRP 
- 本文研究的内容：动态VRP（DVRP）, Psaraftis 于 1988 年首次提出 DVRP





### 车辆路径优化问题及求解方法研究综述（庞燕，2019）

从物流活动在 GDP 的比重引申出，物流成本还有下降的空间。



## 遗传算法

### 带软时间窗整车物流配送路径优化研究（侯玉梅，2015）

本文的求解算法使用了 “自适应遗传算法”，就是随着迭代次数的增加，交叉、变异概率动态变化



### J公司选址－库存－路径集成规划问题研究 （汪伟，2018）

研究背景：连锁超市，为了解决连锁超市的选址－库存－路径问题

文献综述中重点介绍了多车场的 VRP

本文提出了一种基于免疫遗传算法和改进节约算法的两阶段混合启发式算法，用免疫遗传算法来解决 LIP 和 VRP 问题得到一个初始最优解，用改进节约算法来优化初始最优解，得到一个近似全局最优解。





### 改进遗传算法的需求可拆分车辆路径优化研究（胡钟骏，2018）

研究问题：使用遗传算法+模拟退火算法解决 SDVRP

编码：自然数编码

算法有效性指标：时间、优化幅度





## 其他启发式算法

### 带软时间窗的需求依订单拆分车辆路径问题及其禁忌搜索算法（符卓，2017）

文章指出，目前大多数 VRP 问题都是针对每个客户点的需求只能由一辆车来完成，即需求不可拆分的 VRP ，由此引出 SDVRP 。

文献综述后，作者提出现在对于 “按订单拆分的 SDVRP” 以及 “带软时间窗的 SDVRP” 研究比较少（这个明明很多），所以本文研究的问题是带软时间窗的按订单拆分的 SDVRP 。

建立了混合整数规划模型，使用禁忌搜索算法来求解，最后使用 solomn 标准算例来验证算法的有效性

拆分思路：一个客户的需求被拆分成多个订单，单个车辆只负责运送其中的某几个订单，剩余的订单由其他车辆负责运送。

例如算例 RC101 的客户点66，被拆分成五个订单 1 - 5 ，需要的量分别为 10、3、1、2、0，这个客户点的需求由两辆车负责配送，车辆 1 配送订单 1、3、4，车辆 2 配送订单 2







### 基于粒子群算法的满载需求可拆分车辆路径规划（卿东升，2020）

研究问题：使用粒子群算法解决满载约束下的 SDVRP

满载：根据每个客户的需求让所有车辆尽量满载，只有一个车辆没有满载，这样可以使用最少的车辆数









# 程序调试

遗传算法改进的 k-means 聚类

要获得 4 个聚类中心

pop.Phen.shape = (2, 12)  两组染色体   3（特征数，已知）*4（聚类个数，已知）=12

pop.sizes = 2

```python
# 目标函数
def aimFunc(self, pop):  
  	# 得到聚类中心 shape=(2*4, 12/4)=(8,3)
    centers = pop.Phen.reshape(int(pop.sizes * self.k), int(pop.Phen.shape[1] / self.k))  
    # cdist用于计算两个输入集合的距离
    #  (8,3) ^ (15608，3) => (8,15608)  表示8个簇中心距离数据集中每个点的距离
    dis = cdist(centers, self.datas, 'euclidean')
    
    # 分割距离矩阵，把各个聚类中心到各个点之间的距离的数据分开  分成两组，两个染色体，每个染色体4个簇中心
    # dis_split.shape=(2,4,15608) 
    dis_split = dis.reshape(pop.sizes, self.k, self.datas.shape[0]) 
    
    # 得到聚类标签值
    # 数据点应该归属于哪个聚类簇 (2,4,15608) -> 4个聚类簇中最近的下标-> (2,15608) -> 选择第一条染色体 -> (15608,)  
    labels = np.argmin(dis_split, 1)[0] 
    # [0,1,2,3]
    uni_labels = np.unique(labels)
    for i in range(len(uni_labels)):
        # k-means的核心步骤
        centers[uni_labels[i], :] = np.mean(self.datas[np.where(labels == uni_labels[i])[0], :], 0)
    # 直接修改染色体为已知的更优值，加快收敛
    # (8,3) => (2, 12) 第一个染色体片段是本次计算的聚类中心，第二个染色体片段是初始随机值(或上次迭代保留下来的值)
    pop.Chrom = centers.reshape(pop.sizes, self.k * centers.shape[1])
    pop.Phen = pop.decoding()  # 染色体解码（要同步修改Phen，否则后面会导致数据不一致）
    # 再次计算距离，然后计算目标函数
    dis = cdist(centers, self.datas, 'euclidean')
    # 分成两部分
    dis_split = dis.reshape(pop.sizes, self.k, self.datas.shape[0])
    # np.min(dis_split, 1) 找到axis=1中最小的
    # np.sum(np.min(dis_split, 1), 1, keepdims=True) 求和 shape=(2,1) 对应了两个染色体片段
    pop.ObjV = np.sum(np.min(dis_split, 1), 1, keepdims=True)  # 计算个体的目标函数值
```





# 进度记录

12月14日：15826 -> 17101

12月15日：17101 -> 19266

12月16日：19266 -> 20927

12月19日：20927 -> 22066

12月21日：22066 -> 23146

12月22日： 23146 -> 23560

3月10日：42237







# 关键论文记录

